/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{156:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,c){function f(t){try{l(n.next(t))}catch(t){c(t)}}function h(t){try{l(n.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(f,h)}l((n=n.apply(t,e||[])).next())}))},c=this&&this.__generator||function(t,body){var e,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],r=0}finally{e=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},h=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},l=r(8),d=f(r(235)),y=r(236),_=h(r(250)),v=h(r(251)),w=r(76),m=r(58),A=r(97),E=r(95),S=r(39),T=r(96),P={timeout:15e3,persistence:"session"},j={},O=new(function(){function t(t){this.config=t||this.config,this.authObj=void 0,A.Adapter.adapter&&(this.requestClient=new A.Adapter.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[tcb-js-sdk] 请求在"+this.config.timeout/1e3+"s内未完成，已中断"}))}return t.prototype.init=function(e){if(A.Adapter.adapter||(this._useDefaultAdapter(),this.requestClient=new A.Adapter.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:"[tcb-js-sdk] 请求在"+(e.timeout||5e3)/1e3+"s内未完成，已中断"})),A.Adapter.runtime!==A.RUNTIME.WEB){if(!e.appSecret)throw new Error("[tcb-js-sdk]参数错误：请正确配置appSecret");var r=A.Adapter.adapter.getAppSign?A.Adapter.adapter.getAppSign():"";if(e.appSign&&r&&e.appSign!==r)throw new Error("[tcb-js-sdk]参数错误：非法的应用标识");if(r&&(e.appSign=r),!e.appSign)throw new Error("[tcb-js-sdk]参数错误：请正确配置应用标识")}switch(this.config=n(n({},P),e),!0){case this.config.timeout>6e5:console.warn("[tcb-js-sdk] timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("[tcb-js-sdk] timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new t(this.config)},t.prototype.database=function(t){if(l.Db.reqClass=w.IRequest,l.Db.wsClass=A.Adapter.adapter.wsClass,this.authObj)return l.Db.getAccessToken=this.authObj.getAccessToken.bind(this.authObj),l.Db.runtime=A.Adapter.runtime,A.Adapter.runtime!==A.RUNTIME.WEB&&(l.Db.dataVersion=E.dataVersion,l.Db.createSign=S.createSign,l.Db.appSecretInfo=n({appSign:this.config.appSign},this.config.appSecret)),l.Db.ws||(l.Db.ws=null),new l.Db(n(n({},this.config),t));console.warn("需要app.auth()授权")},t.prototype.auth=function(t){var e=(void 0===t?{}:t).persistence;if(this.authObj)return console.warn("tcb实例只存在一个auth对象"),this.authObj;var r=e||A.Adapter.adapter.primaryStorage||P.persistence;return r!==this.config.persistence&&(this.config.persistence=r),T.initCache(this.config),w.initRequest(this.config),this.authObj=new y.Auth(this.config),this.authObj},t.prototype.on=function(t,e){return m.addEventListener.apply(this,[t,e])},t.prototype.off=function(t,e){return m.removeEventListener.apply(this,[t,e])},t.prototype.callFunction=function(t,e){return v.callFunction.apply(this,[t,e])},t.prototype.deleteFile=function(t,e){return _.deleteFile.apply(this,[t,e])},t.prototype.getTempFileURL=function(t,e){return _.getTempFileURL.apply(this,[t,e])},t.prototype.downloadFile=function(t,e){return _.downloadFile.apply(this,[t,e])},t.prototype.uploadFile=function(t,e){return _.uploadFile.apply(this,[t,e])},t.prototype.getUploadMetadata=function(t,e){return _.getUploadMetadata.apply(this,[t,e])},t.prototype.registerExtension=function(t){j[t.name]=t},t.prototype.invokeExtension=function(t,e){return o(this,void 0,void 0,(function(){var r;return c(this,(function(n){switch(n.label){case 0:if(!(r=j[t]))throw Error("扩展"+t+" 必须先注册");return[4,r.invoke(e,this)];case 1:return[2,n.sent()]}}))}))},t.prototype.useAdapters=function(t){var e=A.useAdapters(t)||{},r=e.adapter,n=e.runtime;r&&(A.Adapter.adapter=r),n&&(A.Adapter.runtime=n)},t.prototype._useDefaultAdapter=function(){var t=A.useDefaultAdapter(),e=t.adapter,r=t.runtime;A.Adapter.adapter=e,A.Adapter.runtime=r},t}());O.useAdapters(d.default);try{window.tcb=O}catch(t){}t.exports=O},157:function(t,e,r){(function(e){var r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/,o=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,d="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,_=d||y||Function("return this")();var v,w=Array.prototype,m=Function.prototype,A=Object.prototype,E=_["__core-js_shared__"],S=(v=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",T=m.toString,P=A.hasOwnProperty,j=A.toString,O=RegExp("^"+T.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=_.Symbol,I=w.splice,x=G(_,"Map"),C=G(Object,"create"),k=R?R.prototype:void 0,U=k?k.toString:void 0;function L(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function B(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function M(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function D(object,t,e){var r=object[t];P.call(object,t)&&H(r,e)&&(void 0!==e||t in object)||(object[t]=e)}function N(t,e){for(var r=t.length;r--;)if(H(t[r][0],e))return r;return-1}function Y(t){return!(!X(t)||(e=t,S&&S in e))&&(function(t){var e=X(t)?j.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?O:h).test(function(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function F(object,path,t,e){if(!X(object))return object;for(var o=-1,c=(path=function(t,object){if(J(t))return!1;var e=typeof t;if("number"==e||"symbol"==e||"boolean"==e||null==t||Q(t))return!0;return n.test(t)||!r.test(t)||null!=object&&t in Object(object)}(path,object)?[path]:function(t){return J(t)?t:W(t)}(path)).length,f=c-1,h=object;null!=h&&++o<c;){var l=K(path[o]),d=t;if(o!=f){var y=h[l];void 0===(d=e?e(y,l,h):void 0)&&(d=X(y)?y:V(path[o+1])?[]:{})}D(h,l,d),h=h[l]}return object}function $(map,t){var e,r,data=map.__data__;return("string"==(r=typeof(e=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?data["string"==typeof t?"string":"hash"]:data.map}function G(object,t){var e=function(object,t){return null==object?void 0:object[t]}(object,t);return Y(e)?e:void 0}function V(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||l.test(t))&&t>-1&&t%1==0&&t<e}L.prototype.clear=function(){this.__data__=C?C(null):{}},L.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},L.prototype.get=function(t){var data=this.__data__;if(C){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return P.call(data,t)?data[t]:void 0},L.prototype.has=function(t){var data=this.__data__;return C?void 0!==data[t]:P.call(data,t)},L.prototype.set=function(t,e){return this.__data__[t]=C&&void 0===e?"__lodash_hash_undefined__":e,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(t){var data=this.__data__,e=N(data,t);return!(e<0)&&(e==data.length-1?data.pop():I.call(data,e,1),!0)},B.prototype.get=function(t){var data=this.__data__,e=N(data,t);return e<0?void 0:data[e][1]},B.prototype.has=function(t){return N(this.__data__,t)>-1},B.prototype.set=function(t,e){var data=this.__data__,r=N(data,t);return r<0?data.push([t,e]):data[r][1]=e,this},M.prototype.clear=function(){this.__data__={hash:new L,map:new(x||B),string:new L}},M.prototype.delete=function(t){return $(this,t).delete(t)},M.prototype.get=function(t){return $(this,t).get(t)},M.prototype.has=function(t){return $(this,t).has(t)},M.prototype.set=function(t,e){return $(this,t).set(t,e),this};var W=z((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Q(t))return U?U.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return o.test(t)&&r.push(""),t.replace(c,(function(t,e,n,o){r.push(n?o.replace(f,"$1"):e||t)})),r}));function K(t){if("string"==typeof t||Q(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function z(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],c=r.cache;if(c.has(o))return c.get(o);var f=t.apply(this,n);return r.cache=c.set(o,f),f};return r.cache=new(z.Cache||M),r}function H(t,e){return t===e||t!=t&&e!=e}z.Cache=M;var J=Array.isArray;function X(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Q(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==j.call(t)}t.exports=function(object,path,t){return null==object?object:F(object,path,t)}}).call(this,r(24))},158:function(t,e,r){(function(e){var r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/,o=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,l="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,y=l||d||Function("return this")();var _,v=Array.prototype,w=Function.prototype,m=Object.prototype,A=y["__core-js_shared__"],E=(_=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",S=w.toString,T=m.hasOwnProperty,P=m.toString,j=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=y.Symbol,R=v.splice,I=$(y,"Map"),x=$(Object,"create"),C=O?O.prototype:void 0,k=C?C.toString:void 0;function U(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function L(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function B(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function M(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function D(t){return!(!H(t)||(e=t,E&&E in e))&&(function(t){var e=H(t)?P.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?j:h).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function N(object,path){object=function(object,path){return 1==path.length?object:function(object,path){for(var t=0,e=(path=G(path,object)?[path]:Y(path)).length;null!=object&&t<e;)object=object[W(path[t++])];return t&&t==e?object:void 0}(object,function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var c=Array(o);++n<o;)c[n]=t[n+e];return c}(path,0,-1))}(object,path=G(path,object)?[path]:Y(path));var t,e,r=W((e=(t=path)?t.length:0)?t[e-1]:void 0);return!(null!=object&&T.call(object,r))||delete object[r]}function Y(t){return z(t)?t:V(t)}function F(map,t){var e,r,data=map.__data__;return("string"==(r=typeof(e=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?data["string"==typeof t?"string":"hash"]:data.map}function $(object,t){var e=function(object,t){return null==object?void 0:object[t]}(object,t);return D(e)?e:void 0}function G(t,object){if(z(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!J(t))||(n.test(t)||!r.test(t)||null!=object&&t in Object(object))}U.prototype.clear=function(){this.__data__=x?x(null):{}},U.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},U.prototype.get=function(t){var data=this.__data__;if(x){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return T.call(data,t)?data[t]:void 0},U.prototype.has=function(t){var data=this.__data__;return x?void 0!==data[t]:T.call(data,t)},U.prototype.set=function(t,e){return this.__data__[t]=x&&void 0===e?"__lodash_hash_undefined__":e,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(t){var data=this.__data__,e=M(data,t);return!(e<0)&&(e==data.length-1?data.pop():R.call(data,e,1),!0)},L.prototype.get=function(t){var data=this.__data__,e=M(data,t);return e<0?void 0:data[e][1]},L.prototype.has=function(t){return M(this.__data__,t)>-1},L.prototype.set=function(t,e){var data=this.__data__,r=M(data,t);return r<0?data.push([t,e]):data[r][1]=e,this},B.prototype.clear=function(){this.__data__={hash:new U,map:new(I||L),string:new U}},B.prototype.delete=function(t){return F(this,t).delete(t)},B.prototype.get=function(t){return F(this,t).get(t)},B.prototype.has=function(t){return F(this,t).has(t)},B.prototype.set=function(t,e){return F(this,t).set(t,e),this};var V=K((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(J(t))return k?k.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return o.test(t)&&r.push(""),t.replace(c,(function(t,e,n,o){r.push(n?o.replace(f,"$1"):e||t)})),r}));function W(t){if("string"==typeof t||J(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function K(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],c=r.cache;if(c.has(o))return c.get(o);var f=t.apply(this,n);return r.cache=c.set(o,f),f};return r.cache=new(K.Cache||B),r}K.Cache=B;var z=Array.isArray;function H(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function J(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==P.call(t)}t.exports=function(object,path){return null==object||N(object,path)}}).call(this,r(24))},159:function(t,e,r){(function(t,r){var n="[object Arguments]",o="[object Function]",c="[object GeneratorFunction]",f="[object Map]",h="[object Set]",l=/\w*$/,d=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,_={};_[n]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_[f]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_[h]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[o]=_["[object WeakMap]"]=!1;var v="object"==typeof t&&t&&t.Object===Object&&t,w="object"==typeof self&&self&&self.Object===Object&&self,m=v||w||Function("return this")(),A=e&&!e.nodeType&&e,E=A&&"object"==typeof r&&r&&!r.nodeType&&r,S=E&&E.exports===A;function T(map,t){return map.set(t[0],t[1]),map}function P(t,e){return t.add(e),t}function j(t,e,r,n){var o=-1,c=t?t.length:0;for(n&&c&&(r=t[++o]);++o<c;)r=e(r,t[o],o,t);return r}function O(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function R(map){var t=-1,e=Array(map.size);return map.forEach((function(r,n){e[++t]=[n,r]})),e}function I(t,e){return function(r){return t(e(r))}}function x(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var C,k=Array.prototype,U=Function.prototype,L=Object.prototype,B=m["__core-js_shared__"],M=(C=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",D=U.toString,N=L.hasOwnProperty,Y=L.toString,F=RegExp("^"+D.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=S?m.Buffer:void 0,G=m.Symbol,V=m.Uint8Array,W=I(Object.getPrototypeOf,Object),K=Object.create,z=L.propertyIsEnumerable,H=k.splice,J=Object.getOwnPropertySymbols,X=$?$.isBuffer:void 0,Q=I(Object.keys,Object),Z=Pt(m,"DataView"),tt=Pt(m,"Map"),et=Pt(m,"Promise"),nt=Pt(m,"Set"),ot=Pt(m,"WeakMap"),it=Pt(Object,"create"),at=xt(Z),ut=xt(tt),st=xt(et),ct=xt(nt),ft=xt(ot),ht=G?G.prototype:void 0,lt=ht?ht.valueOf:void 0;function pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function gt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _t(t){this.__data__=new yt(t)}function vt(t,e){var r=kt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ut(t)}(t)&&N.call(t,"callee")&&(!z.call(t,"callee")||Y.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],o=r.length,c=!!o;for(var f in t)!e&&!N.call(t,f)||c&&("length"==f||Rt(f,o))||r.push(f);return r}function bt(object,t,e){var r=object[t];N.call(object,t)&&Ct(r,e)&&(void 0!==e||t in object)||(object[t]=e)}function wt(t,e){for(var r=t.length;r--;)if(Ct(t[r][0],e))return r;return-1}function mt(t,e,r,d,y,object,v){var w;if(d&&(w=object?d(t,y,object,v):d(t)),void 0!==w)return w;if(!Mt(t))return t;var m=kt(t);if(m){if(w=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&N.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(source,t){var e=-1,r=source.length;t||(t=Array(r));for(;++e<r;)t[e]=source[e];return t}(t,w)}else{var A=Ot(t),E=A==o||A==c;if(Lt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if("[object Object]"==A||A==n||E&&!object){if(O(t))return object?t:{};if(w=function(object){return"function"!=typeof object.constructor||It(object)?{}:(t=W(object),Mt(t)?K(t):{});var t}(E?{}:t),!e)return function(source,object){return St(source,jt(source),object)}(t,function(object,source){return object&&St(source,Dt(source),object)}(w,t))}else{if(!_[A])return object?t:{};w=function(object,t,e,r){var n=object.constructor;switch(t){case"[object ArrayBuffer]":return Et(object);case"[object Boolean]":case"[object Date]":return new n(+object);case"[object DataView]":return function(t,e){var r=e?Et(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(object,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?Et(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(object,r);case f:return function(map,t,e){return j(t?e(R(map),!0):R(map),T,new map.constructor)}(object,r,e);case"[object Number]":case"[object String]":return new n(object);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,l.exec(t));return e.lastIndex=t.lastIndex,e}(object);case h:return function(t,e,r){return j(e?r(x(t),!0):x(t),P,new t.constructor)}(object,r,e);case"[object Symbol]":return symbol=object,lt?Object(lt.call(symbol)):{}}var symbol}(t,A,mt,e)}}v||(v=new _t);var S=v.get(t);if(S)return S;if(v.set(t,w),!m)var I=r?function(object){return function(object,t,e){var r=t(object);return kt(object)?r:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(r,e(object))}(object,Dt,jt)}(t):Dt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(I||t,(function(n,o){I&&(n=t[o=n]),bt(w,o,mt(n,e,r,d,o,t,v))})),w}function At(t){return!(!Mt(t)||(e=t,M&&M in e))&&(Bt(t)||O(t)?F:d).test(xt(t));var e}function Et(t){var e=new t.constructor(t.byteLength);return new V(e).set(new V(t)),e}function St(source,t,object,e){object||(object={});for(var r=-1,n=t.length;++r<n;){var o=t[r],c=e?e(object[o],source[o],o,object,source):void 0;bt(object,o,void 0===c?source[o]:c)}return object}function Tt(map,t){var e,r,data=map.__data__;return("string"==(r=typeof(e=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?data["string"==typeof t?"string":"hash"]:data.map}function Pt(object,t){var e=function(object,t){return null==object?void 0:object[t]}(object,t);return At(e)?e:void 0}pt.prototype.clear=function(){this.__data__=it?it(null):{}},pt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},pt.prototype.get=function(t){var data=this.__data__;if(it){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return N.call(data,t)?data[t]:void 0},pt.prototype.has=function(t){var data=this.__data__;return it?void 0!==data[t]:N.call(data,t)},pt.prototype.set=function(t,e){return this.__data__[t]=it&&void 0===e?"__lodash_hash_undefined__":e,this},yt.prototype.clear=function(){this.__data__=[]},yt.prototype.delete=function(t){var data=this.__data__,e=wt(data,t);return!(e<0)&&(e==data.length-1?data.pop():H.call(data,e,1),!0)},yt.prototype.get=function(t){var data=this.__data__,e=wt(data,t);return e<0?void 0:data[e][1]},yt.prototype.has=function(t){return wt(this.__data__,t)>-1},yt.prototype.set=function(t,e){var data=this.__data__,r=wt(data,t);return r<0?data.push([t,e]):data[r][1]=e,this},gt.prototype.clear=function(){this.__data__={hash:new pt,map:new(tt||yt),string:new pt}},gt.prototype.delete=function(t){return Tt(this,t).delete(t)},gt.prototype.get=function(t){return Tt(this,t).get(t)},gt.prototype.has=function(t){return Tt(this,t).has(t)},gt.prototype.set=function(t,e){return Tt(this,t).set(t,e),this},_t.prototype.clear=function(){this.__data__=new yt},_t.prototype.delete=function(t){return this.__data__.delete(t)},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!tt||n.length<199)return n.push([t,e]),this;r=this.__data__=new gt(n)}return r.set(t,e),this};var jt=J?I(J,Object):function(){return[]},Ot=function(t){return Y.call(t)};function Rt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<e}function It(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||L)}function xt(t){if(null!=t){try{return D.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ct(t,e){return t===e||t!=t&&e!=e}(Z&&"[object DataView]"!=Ot(new Z(new ArrayBuffer(1)))||tt&&Ot(new tt)!=f||et&&"[object Promise]"!=Ot(et.resolve())||nt&&Ot(new nt)!=h||ot&&"[object WeakMap]"!=Ot(new ot))&&(Ot=function(t){var e=Y.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?xt(r):void 0;if(n)switch(n){case at:return"[object DataView]";case ut:return f;case st:return"[object Promise]";case ct:return h;case ft:return"[object WeakMap]"}return e});var kt=Array.isArray;function Ut(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Bt(t)}var Lt=X||function(){return!1};function Bt(t){var e=Mt(t)?Y.call(t):"";return e==o||e==c}function Mt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Dt(object){return Ut(object)?vt(object):function(object){if(!It(object))return Q(object);var t=[];for(var e in Object(object))N.call(object,e)&&"constructor"!=e&&t.push(e);return t}(object)}r.exports=function(t){return mt(t,!0,!0)}}).call(this,r(24),r(231)(t))},162:function(t,e,r){"use strict";var n=r(166);const o={install(t,e){t.component("vue-particles",n.a)}};e.a=o},168:function(t,e,r){"use strict";var n=r(152);e.a={install(t,e){t.component("vue-frappe",n.a)}}},232:function(t,e,r){"use strict";e.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,i,r=h(t),n=r[0],f=r[1],l=new c(function(t,e,r){return 3*(e+r)/4-r}(0,n,f)),d=0,y=f>0?n-4:n;for(i=0;i<y;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],l[d++]=e>>16&255,l[d++]=e>>8&255,l[d++]=255&e;2===f&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,l[d++]=255&e);1===f&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,l[d++]=e>>8&255,l[d++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,c=[],i=0,f=r-o;i<f;i+=16383)c.push(l(t,i,i+16383>f?f:i+16383));1===o?(e=t[r-1],c.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],c.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return c.join("")};for(var n=[],o=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,f=code.length;i<f;++i)n[i]=code[i],o[code.charCodeAt(i)]=i;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var o,c,output=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(n[(c=o)>>18&63]+n[c>>12&63]+n[c>>6&63]+n[63&c]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},233:function(t,e){e.read=function(t,e,r,n,o){var c,f,h=8*o-n-1,l=(1<<h)-1,d=l>>1,y=-7,i=r?o-1:0,_=r?-1:1,s=t[e+i];for(i+=_,c=s&(1<<-y)-1,s>>=-y,y+=h;y>0;c=256*c+t[e+i],i+=_,y-=8);for(f=c&(1<<-y)-1,c>>=-y,y+=n;y>0;f=256*f+t[e+i],i+=_,y-=8);if(0===c)c=1-d;else{if(c===l)return f?NaN:1/0*(s?-1:1);f+=Math.pow(2,n),c-=d}return(s?-1:1)*f*Math.pow(2,c-n)},e.write=function(t,e,r,n,o,c){var f,h,l,d=8*c-o-1,y=(1<<d)-1,_=y>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=n?0:c-1,v=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,f=y):(f=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-f))<1&&(f--,l*=2),(e+=f+_>=1?rt/l:rt*Math.pow(2,1-_))*l>=2&&(f++,l/=2),f+_>=y?(h=0,f=y):f+_>=1?(h=(e*l-1)*Math.pow(2,o),f+=_):(h=e*Math.pow(2,_-1)*Math.pow(2,o),f=0));o>=8;t[r+i]=255&h,i+=v,h/=256,o-=8);for(f=f<<o|h,d+=o;d>0;t[r+i]=255&f,i+=v,f/=256,d-=8);t[r+i-v]|=128*s}},234:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},235:function(t,e,r){"use strict";r.r(e),r.d(e,"WxRequest",(function(){return d})),r.d(e,"wxMpStorage",(function(){return y})),r.d(e,"WxMpWebSocket",(function(){return _}));var n,o=r(41),c=(n=function(t,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}n(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),f=function(){return(f=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},h=function(t,e,r,n){return new(r||(r=Promise))((function(o,c){function f(t){try{l(n.next(t))}catch(t){c(t)}}function h(t){try{l(n.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(f,h)}l((n=n.apply(t,e||[])).next())}))},l=function(t,body){var e,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],r=0}finally{e=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};var d=function(t){function e(e){void 0===e&&(e={});var r=t.call(this)||this,n=e.timeout,o=e.timeoutMsg,c=e.restrictedMethods;return r._timeout=n||0,r._timeoutMsg=o||"请求超时",r._restrictedMethods=c||["get","post","upload","download"],r}return c(e,t),e.prototype.post=function(t){var e=this;return new Promise((function(r,n){var c=null,f=t.url,data=t.data,h=t.headers,l=wx.request({url:Object(o.formatUrl)("https:",f),data:data,method:"POST",header:h,success:function(t){e._clearTimeout(c),r(t)},fail:function(t){e._clearTimeout(c),n(t)}});c=e._setTimeout("post",l)}))},e.prototype.upload=function(t){var e=this,r=this;return new Promise((function(n){return h(e,void 0,void 0,(function(){var e,c,h,data,d,y;return l(this,(function(l){return e=null,c=t.url,h=t.file,data=t.data,d=t.headers,y=wx.uploadFile({url:Object(o.formatUrl)("https:",c),filePath:h,name:"file",formData:f(f({},data),{file:h}),header:d,success:function(t){r._clearTimeout(e);var o={statusCode:t.statusCode,data:t.data||{}};200===t.statusCode&&data.success_action_status&&(o.statusCode=parseInt(data.success_action_status,10)),n(o)},fail:function(t){r._clearTimeout(e),n(t)}}),e=r._setTimeout("upload",y),[2]}))}))}))},e.prototype.download=function(t){var e=this,r=this;return new Promise((function(n,c){var f=null,h=t.url,l=t.headers,d=wx.downloadFile({url:Object(o.formatUrl)("https:",h),header:l,success:function(t){r._clearTimeout(f),200===t.statusCode&&t.tempFilePath?n({statusCode:200,tempFilePath:t.tempFilePath}):n(t)},fail:function(t){r._clearTimeout(f),c(t)}});f=e._setTimeout("download",d)}))},e.prototype._clearTimeout=function(t){t&&(clearTimeout(t),t=null)},e.prototype._setTimeout=function(t,e){var r=this;return this._timeout&&-1!==this._restrictedMethods.indexOf(t)?setTimeout((function(){console.warn(r._timeoutMsg),e.abort()}),this._timeout):null},e}(o.AbstractSDKRequest),y={setItem:function(t,e){wx.setStorageSync(t,e)},getItem:function(t){return wx.getStorageSync(t)},removeItem:function(t){wx.removeStorageSync(t)},clear:function(){wx.clearStorageSync()}},_=function(t,e){void 0===e&&(e={});var r=wx.connectSocket(f({url:t},e));return{set onopen(t){r.onOpen(t)},set onmessage(t){r.onMessage(t)},set onclose(t){r.onClose(t)},set onerror(t){r.onError(t)},send:function(data){return r.send({data:data})},close:function(code,t){return r.close({code:code,reason:t})},get readyState(){return r.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};var v={genAdapter:function(){return{root:{},reqClass:d,wsClass:_,localStorage:y,primaryStorage:o.StorageType.local,getAppSign:function(){var t=wx.getAccountInfoSync();return t&&t.miniProgram?t.miniProgram.appId:""}}},isMatch:function(){if("undefined"==typeof wx)return!1;if("undefined"==typeof App)return!1;if("undefined"==typeof Page)return!1;if("function"!=typeof getApp)return!1;if(!wx.onAppHide)return!1;if(!wx.offAppHide)return!1;if(!wx.onAppShow)return!1;if(!wx.offAppShow)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(t){return!1}return!0},runtime:"wx_mp"};e.default=v},236:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,c){function f(t){try{l(n.next(t))}catch(t){c(t)}}function h(t){try{l(n.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(f,h)}l((n=n.apply(t,e||[])).next())}))},c=this&&this.__generator||function(t,body){var e,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],r=0}finally{e=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};Object.defineProperty(e,"__esModule",{value:!0});var f=r(237),h=r(248),l=r(75),d=r(96),y=r(76),_=r(58),v=r(249),w=function(){function t(t){this.config=t,this._cache=d.getCache(t.env),this._request=y.getRequestByEnvId(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),_.addEventListener(_.EVENTS.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged)}return Object.defineProperty(t.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!0,configurable:!0}),t.prototype.weixinAuthProvider=function(t){var e=t.appid,r=t.scope,n=t.state;return new f.WeixinAuthProvider(this.config,e,r,n)},t.prototype.anonymousAuthProvider=function(){return new h.AnonymousAuthProvider(this.config)},t.prototype.customAuthProvider=function(){return new v.CustomAuthProvider(this.config)},t.prototype.signInAnonymously=function(){return o(this,void 0,void 0,(function(){return c(this,(function(t){return[2,new h.AnonymousAuthProvider(this.config).signIn()]}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(t){return o(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this._anonymousAuthProvider||(this._anonymousAuthProvider=new h.AnonymousAuthProvider(this.config)),_.addEventListener(_.EVENTS.ANONYMOUS_CONVERTED,this._onAnonymousConverted),[4,this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.signOut=function(){return o(this,void 0,void 0,(function(){var t,e,r,n,o,f;return c(this,(function(c){switch(c.label){case 0:if(this.loginType===l.LOGINTYPE.ANONYMOUS)throw new Error("[tcb-js-sdk] 匿名用户不支持登出操作");return t=this._cache.keys,e=t.refreshTokenKey,r=t.accessTokenKey,n=t.accessTokenExpireKey,"auth.logout",(o=this._cache.getStore(e))?[4,this._request.send("auth.logout",{refresh_token:o})]:[2];case 1:return f=c.sent(),this._cache.removeStore(e),this._cache.removeStore(r),this._cache.removeStore(n),_.activateEvent(_.EVENTS.LOGIN_STATE_CHANGED),_.activateEvent(_.EVENTS.LOGIN_TYPE_CHANGED,{env:this.config.env,loginType:l.LOGINTYPE.NULL,persistence:this.config.persistence}),[2,f]}}))}))},t.prototype.onLoginStateChanged=function(t){_.addEventListener(_.EVENTS.LOGIN_STATE_CHANGED,t)},t.prototype.onLoginStateExpired=function(t){_.addEventListener(_.EVENTS.LOGIN_STATE_EXPIRED,t)},t.prototype.onAccessTokenRefreshed=function(t){_.addEventListener(_.EVENTS.ACCESS_TOKEN_REFRESHD,t)},t.prototype.onAnonymousConverted=function(t){_.addEventListener(_.EVENTS.ANONYMOUS_CONVERTED,t)},t.prototype.onLoginTypeChanged=function(t){_.addEventListener(_.EVENTS.LOGIN_TYPE_CHANGED,t)},t.prototype.getAccessToken=function(){return o(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return t={},[4,this._request.getAccessToken()];case 1:return[2,(t.accessToken=e.sent().accessToken,t.env=this.config.env,t)]}}))}))},t.prototype.hasLoginState=function(){var t=this._cache.keys,e=t.refreshTokenKey,r=t.accessTokenKey,n=t.accessTokenExpireKey,o=this._cache.getStore(e),c=this._cache.getStore(r),f=this._cache.getStore(n);return c&&f>(new Date).getTime()?{isAnonymous:this.loginType===l.LOGINTYPE.ANONYMOUS,credential:{refreshToken:o,accessToken:this._cache.getStore(r)}}:null},t.prototype.getLoginState=function(){return Promise.resolve(this.hasLoginState())},t.prototype.signInWithTicket=function(t){return o(this,void 0,void 0,(function(){return c(this,(function(e){return[2,new v.CustomAuthProvider(this.config).signIn(t)]}))}))},t.prototype.shouldRefreshAccessToken=function(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)},t.prototype.getUserInfo=function(){return this._request.send("auth.getUserInfo",{}).then((function(t){return t.code?t:n(n({},t.data),{requestId:t.seqId})}))},t.prototype.getAuthHeader=function(){var t=this._cache.keys,e=t.refreshTokenKey,r=t.accessTokenKey,n=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(r)+"/@@/"+n}},t.prototype._onAnonymousConverted=function(t){t.data.env===this.config.env&&this._cache.updatePersistence(this.config.persistence)},t.prototype._onLoginTypeChanged=function(t){var e=t.data,r=e.loginType,n=e.persistence;e.env===this.config.env&&(this._cache.updatePersistence(n),this._cache.setStore(this._cache.keys.loginTypeKey,r))},t}();e.Auth=w},250:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,c){function f(t){try{l(n.next(t))}catch(t){c(t)}}function h(t){try{l(n.throw(t))}catch(t){c(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(f,h)}l((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,body){var e,r,n,g,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(6===c[0]&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],r=0}finally{e=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=r(76),f=r(39);e.uploadFile=function(t,e){e=e||f.createPromiseCallback();var r=c.getRequestByEnvId(this.config.env),n=t.cloudPath,o=t.filePath,h=t.onUploadProgress;return r.send("storage.getUploadMetadata",{path:n}).then((function(t){var c=t.data,f=c.url,l=c.authorization,d=c.token,y=c.fileId,_=c.cosFileId,v=t.requestId,data={key:n,signature:l,"x-cos-meta-fileid":_,success_action_status:"201","x-cos-security-token":d};r.upload({url:f,data:data,file:o,name:n,onUploadProgress:h}).then((function(t){201===t.statusCode?e(null,{fileID:y,requestId:v}):e(new Error("STORAGE_REQUEST_FAIL: "+t.data))})).catch((function(t){e(t)}))})).catch((function(t){e(t)})),e.promise},e.getUploadMetadata=function(t,e){e=e||f.createPromiseCallback();var r=c.getRequestByEnvId(this.config.env),n=t.cloudPath;return r.send("storage.getUploadMetadata",{path:n}).then((function(t){e(null,t)})).catch((function(t){e(t)})),e.promise},e.deleteFile=function(t,e){var r=t.fileList;if(e=e||f.createPromiseCallback(),!r||!Array.isArray(r))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(var n=0,o=r;n<o.length;n++){var h=o[n];if(!h||"string"!=typeof h)return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"}}var l={fileid_list:r};return c.getRequestByEnvId(this.config.env).send("storage.batchDeleteFile",l).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.delete_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.getTempFileURL=function(t,e){var r=t.fileList;e=e||f.createPromiseCallback(),r&&Array.isArray(r)||e(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});for(var n=[],o=0,h=r;o<h.length;o++){var l=h[o];"object"==typeof l?(l.hasOwnProperty("fileID")&&l.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),n.push({fileid:l.fileID,max_age:l.maxAge})):"string"==typeof l?n.push({fileid:l}):e(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"})}var d={file_list:n};return c.getRequestByEnvId(this.config.env).send("storage.batchGetDownloadUrl",d).then((function(t){t.code?e(null,t):e(null,{fileList:t.data.download_list,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.downloadFile=function(t,r){var f=t.fileID;return n(this,void 0,void 0,(function(){var t,n,h,l,d;return o(this,(function(o){switch(o.label){case 0:return[4,e.getTempFileURL.call(this,{fileList:[{fileID:f,maxAge:600}]})];case 1:return t=o.sent(),"SUCCESS"!==(n=t.fileList[0]).code?[2,r?r(n):new Promise((function(t){t(n)}))]:(h=c.getRequestByEnvId(this.config.env),l=n.download_url,l=encodeURI(l),r?[4,h.download({url:l})]:[3,3]);case 2:return d=o.sent(),r(d),[3,4];case 3:return[2,h.download({url:l})];case 4:return[2]}}))}))}},251:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(76),o=r(39);e.callFunction=function(t,e){var r,c=t.name,data=t.data,f=t.query,h=t.parse,l=t.search,d=e||o.createPromiseCallback();try{r=data?JSON.stringify(data):""}catch(t){return Promise.reject(t)}if(!c)return Promise.reject(new Error("函数名不能为空"));var y={query:f,parse:h,search:l,function_name:c,request_data:r};return n.getRequestByEnvId(this.config.env).send("functions.invokeFunction",y).then((function(t){if(t.code)d(null,t);else{var e=t.data.response_data;if(h)d(null,{result:e,requestId:t.requestId});else try{e=JSON.parse(t.data.response_data),d(null,{result:e,requestId:t.requestId})}catch(t){d(new Error("response data must be json"))}}return d.promise})).catch((function(t){d(t)})),d.promise}},31:function(t,e,r){"use strict";(function(t){var n=r(232),o=r(233),c=r(234);function f(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(t,e){if(f()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return _(this,t)}return d(this,t,e,r)}function d(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=v(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(e,r),o=(t=h(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(l.isBuffer(e)){var r=0|w(e.length);return 0===(t=h(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?h(t,0):v(t,e);if("Buffer"===e.type&&c(e.data))return v(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function y(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function _(t,e){if(y(e),t=h(t,e<0?0:0|w(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function v(t,e){var r=e.length<0?0:0|w(e.length);t=h(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function w(t){if(t>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|t}function m(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function A(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return U(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return C(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function E(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function S(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:T(t,e,r,n,o);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):T(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function T(t,e,r,n,o){var i,c=1,f=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;c=2,f/=2,h/=2,r/=2}function l(t,i){return 1===c?t[i]:t.readUInt16BE(i*c)}if(o){var d=-1;for(i=r;i<f;i++)if(l(t,i)===l(e,-1===d?0:i-d)){if(-1===d&&(d=i),i-d+1===h)return d*c}else-1!==d&&(i-=i-d),d=-1}else for(r+h>f&&(r=f-h),i=r;i>=0;i--){for(var y=!0,_=0;_<h;_++)if(l(t,i+_)!==l(e,_)){y=!1;break}if(y)return i}return-1}function P(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var c=e.length;if(c%2!=0)throw new TypeError("Invalid hex string");n>c/2&&(n=c/2);for(var i=0;i<n;++i){var f=parseInt(e.substr(2*i,2),16);if(isNaN(f))return i;t[r+i]=f}return i}function j(t,e,r,n){return J(z(e,t.length-r),t,r,n)}function O(t,e,r,n){return J(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,r,n)}function R(t,e,r,n){return O(t,e,r,n)}function I(t,e,r,n){return J(H(e),t,r,n)}function x(t,e,r,n){return J(function(t,e){for(var r,n,o,c=[],i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,c.push(o),c.push(n);return c}(e,t.length-r),t,r,n)}function C(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,c,f,h,l=t[i],d=null,y=l>239?4:l>223?3:l>191?2:1;if(i+y<=r)switch(y){case 1:l<128&&(d=l);break;case 2:128==(192&(o=t[i+1]))&&(h=(31&l)<<6|63&o)>127&&(d=h);break;case 3:o=t[i+1],c=t[i+2],128==(192&o)&&128==(192&c)&&(h=(15&l)<<12|(63&o)<<6|63&c)>2047&&(h<55296||h>57343)&&(d=h);break;case 4:o=t[i+1],c=t[i+2],f=t[i+3],128==(192&o)&&128==(192&c)&&128==(192&f)&&(h=(15&l)<<18|(63&o)<<12|(63&c)<<6|63&f)>65535&&h<1114112&&(d=h)}null===d?(d=65533,y=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=y}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=f(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return d(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return function(t,e,r,n){return y(e),e<=0?h(t,e):void 0!==r?"string"==typeof n?h(t,e).fill(r,n):h(t,e).fill(r):h(t,e)}(null,t,e,r)},l.allocUnsafe=function(t){return _(null,t)},l.allocUnsafeSlow=function(t){return _(null,t)},l.isBuffer=function(b){return!(null==b||!b._isBuffer)},l.compare=function(a,b){if(!l.isBuffer(a)||!l.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=l.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)E(this,i,i+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)E(this,i,i+3),E(this,i+1,i+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)E(this,i,i+7),E(this,i+1,i+6),E(this,i+2,i+5),E(this,i+3,i+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):A.apply(this,arguments)},l.prototype.equals=function(b){if(!l.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===l.compare(this,b)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(o>>>=0)-(n>>>=0),f=(r>>>=0)-(e>>>=0),h=Math.min(c,f),d=this.slice(n,o),y=t.slice(e,r),i=0;i<h;++i)if(d[i]!==y[i]){c=d[i],f=y[i];break}return c<f?-1:f<c?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return S(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return S(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var c=!1;;)switch(n){case"hex":return P(this,t,e,r);case"utf8":case"utf-8":return j(this,t,e,r);case"ascii":return O(this,t,e,r);case"latin1":case"binary":return R(this,t,e,r);case"base64":return I(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function B(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=K(t[i]);return o}function M(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function D(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,r,n,o,c){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<c)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Y(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function $(t,e,r,n,o,c){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(t,e,r,n,c){return c||$(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,c){return c||$(t,0,r,8),o.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=l.prototype;else{var o=e-t;r=new l(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},l.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||N(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||N(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Y(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Y(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);N(this,t,e,r,o-1,-o)}var i=0,c=1,sub=0;for(this[e]=255&t;++i<r&&(c*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);N(this,t,e,r,o-1,-o)}var i=r-1,c=1,sub=0;for(this[e+i]=255&t;--i>=0&&(c*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Y(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Y(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return G(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return G(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=l.isBuffer(t)?t:z(new l(t,n).toString()),c=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%c]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function K(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var r;e=e||1/0;for(var n=t.length,o=null,c=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&c.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&c.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&c.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&c.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;c.push(r)}else if(r<2048){if((e-=2)<0)break;c.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;c.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;c.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return c}function H(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(24))},41:function(t,e,r){"use strict";r.r(e);var n=r(150);r.d(e,"StorageType",(function(){return n.c})),r.d(e,"AbstractSDKRequest",(function(){return n.a})),r.d(e,"AbstractStorage",(function(){return n.b}));var o=r(151);r.d(e,"formatUrl",(function(){return o.a}))},59:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return c}));var n=r(6);class o{constructor({offset:t=0}={}){this.offset=t}get _internalType(){return n.j}parse(){return{$date:{offset:this.offset}}}}function c(t){return new o(t)}},77:function(t,e,r){"use strict";r.r(e);var n=r(14);r.d(e,"Point",(function(){return n.a}));var o=r(20);r.d(e,"LineString",(function(){return o.a}));var c=r(32);r.d(e,"Polygon",(function(){return c.a}));var f=r(79);r.d(e,"MultiPoint",(function(){return f.a}));var h=r(80);r.d(e,"MultiLineString",(function(){return h.a}));var l=r(62);r.d(e,"MultiPolygon",(function(){return l.a}))},8:function(t,e,r){"use strict";r.r(e),r.d(e,"Query",(function(){return w.a})),r.d(e,"CollectionReference",(function(){return o.a})),r.d(e,"DocumentReference",(function(){return m.a})),r.d(e,"Db",(function(){return A}));var n=r(77),o=r(104),c=r(160),f=r(59),symbol=r(6);class h{constructor({regexp:t,options:e}){if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=e}parse(){return{$regex:this.$regex,$options:this.$options}}get _internalType(){return symbol.i}}function l(param){return new h(param)}var d=r(167),code=r(106);class y{constructor(t){this._db=t,this._request=new A.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}async init(){const t=await this._request.send("database.startTransaction");if(t.code)throw t;this.inited=!0,this._id=t.transactionId}collection(t){if(!t)throw new Error("Collection name is required");return new d.a(this,t)}getTransactionId(){return this._id}getRequestMethod(){return this._request}async commit(){const param={transactionId:this._id},t=await this._request.send("database.commitTransaction",param);if(t.code)throw t;return this.commited=!0,t}async rollback(t){const param={transactionId:this._id},e=await this._request.send("database.abortTransaction",param);if(e.code)throw e;return this.aborted=!0,this.abortReason=t,e}}async function _(){const t=new y(this);return await t.init(),t}async function v(t,e=3){let r;try{r=new y(this),await r.init();const e=await t(r);if(!0===r.aborted)throw r.abortReason;return await r.commit(),e}catch(n){if(!1===r.inited)throw n;const o=async t=>{if(!r.aborted&&!r.commited){try{await r.rollback()}catch(t){}throw t}if(!0===r.aborted)throw r.abortReason;throw t};if(e<=0&&await o(n),n&&n.code===code.a.DATABASE_TRANSACTION_CONFLICT.code)return await v.bind(this)(t,--e);await o(n)}}var w=r(103),m=r(78);class A{constructor(t){this.config=t,this.Geo=n,this.serverDate=f.b,this.command=c.a,this.RegExp=l,this.startTransaction=_,this.runTransaction=v}collection(t){if(!t)throw new Error("Collection name is required");return new o.a(this,t)}createCollection(t){const e={collectionName:t};return new A.reqClass(this.config).send("database.addCollection",e)}}},97:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var o,c=n(r(244)),f=r(39);!function(t){t.WEB="web",t.WX_MP="wx_mp"}(o=e.RUNTIME||(e.RUNTIME={})),e.useAdapters=function(t){for(var e=0,r=f.isArray(t)?t:[t];e<r.length;e++){var n=r[e],o=n.isMatch,c=n.genAdapter,h=n.runtime;if(o())return{adapter:c(),runtime:h}}},e.useDefaultAdapter=function(){return{adapter:c.genAdapter(),runtime:o.WEB}},e.Adapter={adapter:null,runtime:void 0}}}]);